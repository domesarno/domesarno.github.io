<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework 6 – Analytical Task</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fc;
            color: #222;
            margin: 0;
            line-height: 1.6;
        }

        /* Header section */
        .header {
            background-color: #2c2c2c;
            color: white;
            padding: 80px 0;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 0.3em;
        }

        .header h2 {
            font-weight: 400;
            font-size: 1.3em;
            color: #ddd;
        }

        /* Main content */
        .content {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 25px;
        }

        h3 {
            border-left: 5px solid #2b4d9a;
            padding-left: 10px;
            color: #1b3d8a;
            margin-top: 40px;
        }

        ul {
            list-style-type: disc;
            margin-left: 30px;
        }

        a {
            color: #1b3d8a;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .back-home {
            display: inline-block;
            margin-top: 30px;
            color: #000;
            text-decoration: none;
        }

        .back-home:hover {
            text-decoration: underline;
        }

        footer {
            text-align: center;
            font-size: 0.9em;
            color: #555;
            margin-top: 50px;
            padding: 15px 0 30px 0;
            border-top: 1px solid #ccc;
        }

        code {
            background-color: #eef;
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* Toggle section for advantages */
        #advantages {
            display: none;
            margin-top: 15px;
            background-color: #eef2fb;
            border-left: 5px solid #2b4d9a;
            padding: 15px;
            border-radius: 8px;
        }

        button {
            background-color: #2b4d9a;
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #1a336b;
        }
    </style>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: { fontCache: 'global' }
        };
    </script>
    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>

<body>
    <div class="header">
        <h1>Homework 6</h1>
        <h2>Analytical Task – Online Algorithms for Mean and Variance</h2>
    </div>

    <div class="content">
        <h3>Introduction</h3>
        <p>
            This analytical task focuses on the derivation of recurrence relationships for the
            <b>arithmetic mean</b> and <b>variance</b>, and on the concept of
            <i>online algorithms</i> — methods that update statistical measures incrementally
            as new data become available.
        </p>
        <p>
            Unlike traditional <b>batch algorithms</b>, which require all data to be stored and
            recomputed at each step, online algorithms allow for continuous updates
            with minimal computational cost and improved numerical stability.
        </p>

        <h3>Recurrence Relationship for the Arithmetic Mean</h3>
        <p>
            Let a sequence of data be $x_1, x_2, \dots, x_n$, with mean:
        </p>

        <p style="text-align:center; background-color:#f6f7fc; padding:10px; border-radius:6px;">
            $$\bar{x}_n = \frac{1}{n} \sum_{i=1}^{n} x_i$$
        </p>

        <p>
            When a new value $x_{n+1}$ is added, the updated mean can be written as:
        </p>

        <p style="text-align:center; background-color:#f6f7fc; padding:10px; border-radius:6px;">
            $$\bar{x}_{n+1} = \bar{x}_n + \frac{x_{n+1} - \bar{x}_n}{n + 1}$$
        </p>


        <p>
            This formula allows the mean to be updated incrementally
            without reprocessing the entire dataset.
            The difference \( (xₙ₊₁ − μₙ) \) acts as a correction term that adjusts
            the previous mean toward the new value.
        </p>

        <h3>Recurrence Relationship for the Variance</h3>
        <p>
            The variance for $n$ data points is defined as:
        </p>

        <p style="text-align:center; background-color:#f6f7fc; padding:10px; border-radius:6px;">
            $$\sigma_n^2 = \frac{1}{n} \sum_{i=1}^{n} (x_i - \bar{x}_n)^2$$
        </p>

        <p>
            The online update form, proposed by <b>B. P. Welford (1962)</b>, can be expressed as:
        </p>

        <p style="text-align:center; background-color:#f6f7fc; padding:10px; border-radius:6px;">
            $$
            \begin{aligned}
            M_{n+1} &= M_n + \frac{x_{n+1} - M_n}{n + 1} \\
            S_{n+1} &= S_n + (x_{n+1} - M_n)(x_{n+1} - M_{n+1}) \\
            \sigma^2 &= \frac{S_n}{n - 1}
            \end{aligned}
            $$
        </p>

        <p>
            Here, $ Mₙ $ represents the running mean and $ Sₙ $ accumulates the
            squared deviations.
            This formulation avoids catastrophic cancellation and reduces floating-point errors.
        </p>

        <h3>Derivation Overview</h3>
        <p>
            The recurrence relationship for the mean is derived by expanding the definition:
        </p>
        <p style="text-align:center; background-color:#f6f7fc; padding:10px; border-radius:6px;">
            $$\mu_{n+1} = \frac{n\mu_n + x_{n+1}}{n + 1} = \mu_n + \frac{x_{n+1} - \mu_n}{n + 1}$$
        </p>

        <p>
            Similarly, the variance update can be derived by applying the definition of
            $ Σ(xᵢ − μ)² $ recursively and expressing the new mean in terms of the previous one.
        </p>

        <h3>Interactive Example – Online Mean and Variance</h3>
        <p>
            Enter numbers one by one to see how the mean and variance update incrementally.
        </p>

        <div id="interactive-section" style="background-color:#eef2fb; padding:20px; border-radius:8px;">
            <input type="number" id="newValue" placeholder="Enter a number"
                style="padding:6px; width:160px; border:1px solid #ccc; border-radius:4px;">

            <button id="add-btn" onclick="addNumber()">Add Number</button>
            <button id="reset-btn" onclick="resetValues()">Reset</button>

            <p><b>Count:</b> <span id="count">0</span></p>
            <p><b>Mean:</b> <span id="mean">–</span></p>
            <p><b>Variance:</b> <span id="variance">–</span></p>
        </div>

        <script>
            let count = 0;
            let mean = 0;
            let M2 = 0;

            function addNumber() {
                const input = document.getElementById("newValue");
                const x = parseFloat(input.value);
                if (isNaN(x)) return;

                count += 1;
                const delta = x - mean;
                mean += delta / count;
                const delta2 = x - mean;
                M2 += delta * delta2;

                const variance = count > 1 ? (M2 / (count - 1)) : 0;

                document.getElementById("count").innerText = count;
                document.getElementById("mean").innerText = mean.toFixed(4);
                document.getElementById("variance").innerText = count > 1 ? variance.toFixed(4) : "–";

                input.value = "";
            }

            function resetValues() {
                count = 0;
                mean = 0;
                M2 = 0;
                document.getElementById("count").innerText = "0";
                document.getElementById("mean").innerText = "–";
                document.getElementById("variance").innerText = "–";
                document.getElementById("newValue").value = "";
            }
        </script>

        <style>
            /* Button restyle */
            #add-btn,
            #reset-btn {
                background-color: #2b4d9a;
                border: none;
                color: white;
                padding: 6px 14px;
                font-size: 0.9em;
                margin-left: 8px;
                border-radius: 4px;
                cursor: pointer;
                transition: background-color 0.3s ease, transform 0.1s ease;
                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
            }

            #add-btn:hover,
            #reset-btn:hover {
                background-color: #1a336b;
                transform: scale(1.03);
            }

            #reset-btn {
                background-color: #444;
            }

            #reset-btn:hover {
                background-color: #222;
            }
        </style>

        <p>
            Online algorithms process data sequentially and require constant memory,
            making them ideal for streaming or large-scale applications.
            Batch algorithms, on the other hand, recompute mean and variance from all past data,
            which can cause numerical errors and inefficiency.
        </p>

        <h3>Advantages of Online Algorithms</h3>
        <p>
            Online algorithms offer key advantages over traditional batch methods. They are highly
            <b>numerically stable</b>, since they avoid subtracting nearly identical quantities —
            a common source of rounding errors and <i>catastrophic cancellation</i> in floating-point arithmetic.
            Their <b>memory efficiency</b> is another major benefit: only the running mean, the accumulated
            deviation term, and the current sample count need to be stored.
        </p>

        <p>
            Because updates depend only on the newest observation, online algorithms are extremely
            <b>scalable</b> and suitable for continuous data streams, such as real-time monitoring or
            financial applications. They also provide <b>robust control of error propagation</b>,
            maintaining accuracy even after thousands of iterations.
        </p>

        <h3>Sources</h3>
        <ul>
            <li><a href="https://en.wikipedia.org/wiki/Algorithms_for_calculating_variance" target="_blank">Wikipedia –
                    Algorithms for Calculating Variance</a></li>
            <li><a href="https://en.wikipedia.org/wiki/Online_algorithm" target="_blank">Wikipedia – Online
                    Algorithm</a></li>
            <li><a href="https://www.johndcook.com/blog/standard_deviation/" target="_blank">John D. Cook – Welford’s
                    Method for Variance</a></li>
        </ul>

        <a href="index.html" class="back-home">← Back Home</a>
    </div>

    <footer>
        © 2025 - Domenico Sarno | Homework 6 - 5th Nov
    </footer>
</body>

</html>