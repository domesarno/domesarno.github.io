<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

  <title>Homework 2 - Dataset and Distribution</title>

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/sql.min.js"></script>
  <script>hljs.highlightAll();</script>
  
  <style>
    
    pre {
      background-color: #1e1e1e;
      color: #fff;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      font-size: 0.95em;
    }

    body {
      margin: 0;
      font-family: 'Open Sans', Calibri, 'Trebuchet MS', sans-serif;
      background: linear-gradient(135deg, #e9efff, #f9fbff);
      color: #000; 
    }

    h1, h2, h3 {
      color: #1a237e; 
    }

    a {
      color: #1a73e8;
      text-decoration: none;
      transition: 0.3s;
    }

    a:hover {
      text-decoration: underline;
    }

    /* ---------- HEADER ---------- */
    header {
      background: linear-gradient(90deg, #3a3a3a, #1f1f1f);
      color: white;
      text-align: center;
      padding: 60px 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }

    header h1 {
      margin: 0;
      font-size: 2.5em;
      color: white;
    }

    header p {
      margin-top: 10px;
      font-size: 1.2em;
      opacity: 0.9;
    }

    /* ---------- MAIN CONTENT ---------- */
    main {
      max-width: 1100px; 
      margin: 40px auto;
      background: white;
      border-radius: 12px;
      padding: 50px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    section {
      margin-bottom: 50px;
    }

    section h2 {
      border-left: 5px solid #1a73e8;
      padding-left: 10px;
      font-size: 1.4em;
    }

    footer {
      text-align: center;
      padding: 30px;
      color: #555;
      font-size: 0.9em;
      border-top: 1px solid #ccc;
      margin-top: 40px;
    }

    .back {
      display: inline-block;
      margin-top: 20px;
      color: #333;
    }
  </style>
</head>

<body>

  <header>
    <h1>Homework 2</h1>
    <p>Explain the concept of dataset and distribution</p>
  </header>

  <main>

    <!-- ======================
         SECTION 1
         ====================== -->
    <section>
      <h2>Concept of Dataset and Distribution</h2>
      <p>
        A <strong>dataset</strong> is a structured collection of data, usually arranged in rows and columns. 
        Each <em>row</em> represents an observation or record, and each <em>column</em> represents a variable or attribute. 
        The values inside a dataset can be numerical (for example, age or score) or categorical (for example, course name or type). 
        Datasets can be stored in different formats, such as tables, spreadsheets, or databases, and are the foundation for any data analysis process.
      </p>
      
      <p>
        In statistics, a <strong>distribution</strong> describes how the values of a variable are spread across possible outcomes. 
        It shows the frequency or probability of each value occurring in the dataset. 
        Distributions can be <em>discrete</em> (where values are separate and countable, like days of the week) 
        or <em>continuous</em> (where values can vary over a continuous range, like temperature or time).
      </p>
      
      <p>
        A <strong>univariate distribution</strong> focuses on a single variable, analyzing how often each value appears. 
        It provides insights into the variability and concentration of data for that variable only, 
        without considering relationships with other variables. 
        For example, if a dataset contains a variable called <em>day</em> that can take values from 1 to 5 (representing Monday to Friday), 
        the univariate distribution of <em>day</em> tells us how many records correspond to each day.
      </p>
    </section>

    <!-- ======================
         SECTION 2 
         ====================== -->
    <section id="dataset">
      <h2>Practical Implementation: Dataset Creation</h2>
    
      <p>
        The following SQL code was used to create the dataset <em>weeklySchedule</em>. 
        The table contains three variables (k = 3): <strong>idCourse</strong>, <strong>courseName</strong>, and <strong>day</strong>. 
        Each record represents a course and the corresponding day of the week it takes place, where days are coded from 1 (Monday) to 5 (Friday).
      </p>

      <pre><code class="language-sql">
        CREATE TABLE weeklySchedule (
          idCourse INTEGER,
          courseName TEXT,
          day INTEGER CHECK(day >= 1 AND day <= 5)
        );
        
        INSERT INTO weeklySchedule (idCourse, courseName, day) VALUES
        (1027171, 'Network Infrastructures', 1),
        (1022807, 'Distributed Systems', 1),
        (1047622, 'Cryptography', 2),
        (1022807, 'Distributed Systems', 3),
        (1055043, 'Statistics', 4),
        (1047622, 'Cryptography', 5),
        (1027171, 'Network Infrastructures', 5);
      </code></pre>

      <h2>Full Dataset</h2>
      <table border="1" cellspacing="0" cellpadding="8" style="border-collapse: collapse; width: 70%; text-align: center; margin: 20px auto;">
        <thead style="background-color: #e3f2fd;">
          <tr>
            <th>idCourse</th>
            <th>courseName</th>
            <th>day</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1027171</td><td>Network Infrastructures</td><td>1</td></tr>
          <tr><td>1022807</td><td>Distributed Systems</td><td>1</td></tr>
          <tr><td>1047622</td><td>Cryptography</td><td>2</td></tr>
          <tr><td>1022807</td><td>Distributed Systems</td><td>3</td></tr>
          <tr><td>1055043</td><td>Statistics</td><td>4</td></tr>
          <tr><td>1047622</td><td>Cryptography</td><td>5</td></tr>
          <tr><td>1027171</td><td>Network Infrastructures</td><td>5</td></tr>
        </tbody>
      </table>
    </section>

    <!-- ======================
     SECTION 3 
     ====================== -->
    <section id="distribution">
      <h2>Univariate Distribution</h2>
    
      <p>
        This section analyzes the dataset using two different univariate distributions:
        one based on <strong>courseName</strong> (how many times each course appears),
        and one based on <strong>day</strong> (how many courses occur on each day of the week).
      </p>

      <!-- Dropdown menu -->
      <label for="distributionSelect"><strong>Select variable:</strong></label>
      <select id="distributionSelect" style="margin: 10px; padding: 6px;">
        <option value="courseName">Distribution by courseName</option>
        <option value="day">Distribution by day</option>
      </select>

      <!-- SQL CODE: Distribution by courseName -->
      <div id="sql-courseName">
        <pre><code class="language-sql">
          SELECT 
            courseName,
            COUNT(*) AS occurrences
          FROM weeklySchedule
          GROUP BY courseName
          ORDER BY occurrences DESC;
        </code></pre>

        <table border="1" cellspacing="0" cellpadding="8" style="border-collapse: collapse; width: 70%; text-align: center; margin: 0 auto;">
          <thead style="background-color: #e3f2fd;">
            <tr>
              <th>courseName</th>
              <th>occurrences</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Network Infrastructures</td><td>2</td></tr>
            <tr><td>Distributed Systems</td><td>2</td></tr>
            <tr><td>Cryptography</td><td>2</td></tr>
            <tr><td>Statistics</td><td>1</td></tr>
          </tbody>
        </table>
      </div>

      <!-- SQL CODE: Distribution by day -->
      <div id="sql-day" style="display:none;">
        <pre><code class="language-sql">
          SELECT 
            CASE day
              WHEN 1 THEN 'Monday'
              WHEN 2 THEN 'Tuesday'
              WHEN 3 THEN 'Wednesday'
              WHEN 4 THEN 'Thursday'
              WHEN 5 THEN 'Friday'
            END AS weekday,
            COUNT(*) AS numberOfCourses
          FROM weeklySchedule
          GROUP BY day
          ORDER BY day;
        </code></pre>

        <table border="1" cellspacing="0" cellpadding="8" style="border-collapse: collapse; width: 60%; text-align: center; margin: 0 auto;">
          <thead style="background-color: #e3f2fd;">
            <tr>
              <th>weekday</th>
              <th>numberOfCourses</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Monday</td><td>2</td></tr>
            <tr><td>Tuesday</td><td>1</td></tr>
            <tr><td>Wednesday</td><td>1</td></tr>
            <tr><td>Thursday</td><td>1</td></tr>
            <tr><td>Friday</td><td>2</td></tr>
          </tbody>
        </table>
      </div>

      <!-- JavaScript for switching between distributions -->
      <script>
        const select = document.getElementById('distributionSelect');
        const sqlCourse = document.getElementById('sql-courseName');
        const sqlDay = document.getElementById('sql-day');
    
        select.addEventListener('change', function() {
          if (this.value === 'courseName') {
            sqlCourse.style.display = 'block';
            sqlDay.style.display = 'none';
          } else {
            sqlCourse.style.display = 'none';
            sqlDay.style.display = 'block';
          }
        });
      </script>
    </section>

    <section>
      <h2>Sources</h2>
      <p style="font-size: 0.9em; color: #666;">
        - <a href="https://en.wikipedia.org/wiki/Data_set" target="_blank">Wikipedia – Dataset</a><br>
        - <a href="https://en.wikipedia.org/wiki/Univariate_distribution" target="_blank">Wikipedia – Univariate Distribution</a><br>
        - <a href="https://www.geeksforgeeks.org/what-is-dataset/" target="_blank">GeeksforGeeks – What is a Dataset</a><br>
        - <a href="https://www.statisticshowto.com/univariate-distribution/" target="_blank">StatisticsHowTo – Univariate Distribution</a>
      </p>
    </section>

    <section id="text-distribution">
      <h2>Text Analysis: Letter Distribution</h2>


      <p>
        The goal of this section is to compute the distribution of letters in a given text.
        We ignore spaces, punctuation, and case sensitivity, counting only alphabetic characters.
      </p>
    
      <pre><code class="language-python">
        import string
        from collections import Counter
        
        text = "Data science is fun and powerful!"
        
        # Convert to uppercase and remove non-letter characters
        clean_text = ''.join(ch.upper() for ch in text if ch.isalpha())
        
        # Count occurrences of each letter
        letter_counts = Counter(clean_text)
        total_letters = sum(letter_counts.values())
        
        # Compute relative frequency
        distribution = {letter: round((count / total_letters) * 100, 2)
                        for letter, count in letter_counts.items()}
        
        print("Letter Distribution (%):")
        for letter, freq in sorted(distribution.items()):
            print(f"{letter}: {freq}%")
      </code></pre>
    
      <p>The resulting distribution table is:</p>
    
      <table>
        <thead>
          <tr><th>Letter</th><th>Frequency (%)</th></tr>
        </thead>
        <tbody>
          <tr><td>A</td><td>13.64</td></tr>
          <tr><td>C</td><td>9.09</td></tr>
          <tr><td>D</td><td>4.55</td></tr>
          <tr><td>E</td><td>9.09</td></tr>
          <tr><td>F</td><td>4.55</td></tr>
          <tr><td>I</td><td>9.09</td></tr>
          <tr><td>N</td><td>9.09</td></tr>
          <tr><td>O</td><td>4.55</td></tr>
          <tr><td>P</td><td>4.55</td></tr>
          <tr><td>S</td><td>13.64</td></tr>
          <tr><td>T</td><td>9.09</td></tr>
          <tr><td>U</td><td>4.55</td></tr>
        </tbody>
      </table>
    </section>

    <section id="caesar-cipher">
      <h2>Caesar Cipher Encryption</h2>
    
      <p>
        The Caesar Cipher shifts each letter in the alphabet by a fixed number of positions.
        Here, the shift value is set to 3.
      </p>
    
      <pre><code class="language-python">
        def caesar_encrypt(text, shift):
            alphabet = string.ascii_uppercase
            encrypted = ""
            for ch in text.upper():
                if ch in alphabet:
                    new_index = (alphabet.index(ch) + shift) % 26
                    encrypted += alphabet[new_index]
                else:
                    encrypted += ch
            return encrypted
        
        encrypted_text = caesar_encrypt(clean_text, 3)
        print("Encrypted text:", encrypted_text)
      </code></pre>
    
      <p><strong>Result:</strong></p>
      <p style="text-align:center; font-weight:bold;">GdwdvflhqfhLviXqDqgSrzhuixo</p>
    </section>

    <section id="decode-bruteforce">
      <h2>Decoding Without Knowing the Shift</h2>
    
      <p>
        Since there are only 26 possible shifts, we can try them all to see which one produces readable text.
      </p>
    
      <pre><code class="language-python">
        def caesar_decrypt_bruteforce(text):
            alphabet = string.ascii_uppercase
            for shift in range(26):
                decrypted = ""
                for ch in text:
                    if ch in alphabet:
                        new_index = (alphabet.index(ch) - shift) % 26
                        decrypted += alphabet[new_index]
                    else:
                        decrypted += ch
                print(f"Shift {shift}: {decrypted}")
        
        caesar_decrypt_bruteforce(encrypted_text)
      </code></pre>
    
      <p>The output will show all possible shifts. The correct one (shift = 3) reveals the original message:</p>
      <p style="text-align:center; font-weight:bold;">DATA SCIENCE IS FUN AND POWERFUL</p>
    </section>

    <section id="decode-language">
      <h2>Decoding Using Language Distribution</h2>
    
      <p>
        To decode automatically, we compare the frequency of letters in the encrypted text 
        with the typical frequency of letters in English. 
        The shift that minimizes the difference is selected as the most probable key.
      </p>
    
      <pre><code class="language-python">
        english_freq = {
            'E': 12.70, 'T': 9.06, 'A': 8.17, 'O': 7.51, 'I': 6.97, 'N': 6.75,
            'S': 6.33, 'H': 6.09, 'R': 5.99, 'D': 4.25, 'L': 4.03, 'C': 2.78,
            'U': 2.76, 'M': 2.41, 'W': 2.36, 'F': 2.23, 'G': 2.02, 'Y': 1.97,
            'P': 1.93, 'B': 1.49, 'V': 0.98, 'K': 0.77, 'J': 0.15, 'X': 0.15,
            'Q': 0.10, 'Z': 0.07
        }
        
        def score_shift(text, shift):
            shifted = caesar_encrypt(text, -shift)
            freq = Counter(shifted)
            total = sum(freq.values())
            diff = 0
            for l, f in english_freq.items():
                diff += abs((freq.get(l, 0) / total * 100) - f)
            return diff
        
        scores = {shift: score_shift(encrypted_text, shift) for shift in range(26)}
        best_shift = min(scores, key=scores.get)
        
        print("Detected shift:", best_shift)
        print("Decoded text:", caesar_encrypt(encrypted_text, -best_shift))
      </code></pre>
    
      <p><strong>Result:</strong></p>
      <p style="text-align:center; font-weight:bold;">Detected shift = 3 → DATA SCIENCE IS FUN AND POWERFUL</p>
    </section>


    <a href="../../index.html" class="back">← Back to Home</a>
  </main>

  <footer>
    <p>© 2025 - Domenico Sarno | Homework 2 - 15th October</p>
  </footer>

</body>
</html>
